<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Minimalist Media Host</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta property="og:title" content="Minimalist Media Host">
  <meta property="og:description" content="Fast, minimalistic video & audio hosting. Upload & share instantly.">
  <meta property="og:type" content="video.other">
  <meta property="og:url" content="">
  <meta property="og:image" content="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f3ac.png">
  <meta name="twitter:card" content="player">
  <meta name="theme-color" content="#181820">
  <style>
    :root {
      --bg: #181820;
      --card: #232338;
      --accent: #36aeea;
      --text: #fff;
      --text-fade: #d0d0e0;
      --radius: 1.1rem;
    }
    body {
      margin: 0; padding: 0;
      font-family: 'Inter', Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: background 0.6s cubic-bezier(.23,1.03,.65,.99);
    }
    h1 {
      margin: 1.2rem 0 0.2rem;
      letter-spacing: 0.06em;
      font-size: 2.3rem;
      font-weight: 800;
      text-align: center;
      color: var(--accent);
      text-shadow: 0 4px 34px #36aeea44;
      animation: popIn 1.4s cubic-bezier(.47,2.02,.59,.99);
    }
    @keyframes popIn {
      0% {transform:scale(0.9); opacity:0;}
      80% {transform:scale(1.07);}
      100% {transform:scale(1); opacity:1;}
    }
    .card {
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: 0 9px 54px -20px #1114;
      padding: 2.2rem 2.1rem 1.5rem 2.1rem;
      min-width: 330px;
      margin: 2rem auto 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.2rem;
      animation: floatB 1.9s cubic-bezier(.46,2.1,.64,.99) 0.15s 1 backwards;
    }
    @keyframes floatB {
      0%{transform: translateY(32px) scale(0.93);opacity:0;}
      100%{transform:translateY(0) scale(1);opacity:1;}
    }
    .upload-btn {
      background: linear-gradient(90deg, var(--accent) 30%, #49e6b9 100%);
      color: #fff;
      border: none;
      border-radius: 999px;
      padding: 0.9rem 2.1rem;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: box-shadow .13s, transform .16s, background .33s;
      box-shadow: 0 1px 24px -7px #36aeea55;
      outline: none;
      margin-bottom: 1.1rem;
      animation: buttonB .9s cubic-bezier(.61,1.12,.44,.99) 0.7s both;
    }
    @keyframes buttonB {
      0%{transform:scale(0.6); opacity:0;}
      100%{transform:scale(1); opacity:1;}
    }
    .upload-btn:hover {
      box-shadow: 0 9px 44px -13px #36aeea77;
      transform: scale(1.045);
      background: linear-gradient(91deg, #49e6b9 10%, var(--accent) 85%);
    }
    .input-area {
      display: flex;
      gap: .8rem;
      align-items: center;
      flex-direction: column;
    }
    input[type="file"] {
      display: none;
    }
    .dropzone {
      border: 2.3px dashed #2e92ca88;
      background: #203f508c;
      transition: border-color .24s, background .23s;
      border-radius: var(--radius);
      padding: 1.4rem 2.3rem;
      text-align: center;
      color: var(--text-fade);
      cursor: pointer;
      font-size: 1rem;
      outline: none;
    }
    .dropzone.dragover {
      border-color: var(--accent);
      background: #183167bb;
      color: var(--accent);
    }
    .link-output {
      margin-top: 1.2rem;
      word-break: break-all;
      background: #191939ee;
      border-radius: .9rem;
      padding: 1rem;
      color: #0fddd0;
      font-size: 1.06rem;
      box-shadow: 0 5px 24px -7px #36aeea44;
      animation: fadein 1.1s cubic-bezier(.56,2.13,.39,.97);
      transition: background .22s;
    }
    @keyframes fadein{
      0%{opacity:0;transform:translateY(18px);}
      100%{opacity:1;transform:translateY(0);}
    }
    .media-preview {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      align-items: center;
      justify-content: center;
      margin-top: 0.7rem;
      animation: fadein 1.1s cubic-bezier(.56,2.13,.39,.97) .2s both;
    }
    video, audio {
      max-width: 300px;
      border-radius: .8rem;
      box-shadow: 0 4px 18px -9px #0007;
    }
    .features {
      color: var(--text-fade);
      margin: 1.2rem 0 0 0;
      font-size: 0.97rem;
      text-align:center;
      line-height:1.6;
      letter-spacing: 0.015em;
      animation: fadein 1.2s cubic-bezier(.6,1.13,.66,.99) .43s both;
    }
    .pulse {
      animation: pulse 1.7s cubic-bezier(.3,1.21,.54,.97) infinite;
      color: #49e6b9;
    }
    @keyframes pulse {
      0%{text-shadow:0 0 0 #36aeea44;}
      50%{text-shadow:0 0 19px #49e6b9aa;}
      100%{text-shadow:0 0 0 #36aeea44;}
    }
  </style>
</head>
<body>
  <h1>media.host</h1>
  <div class="card">
    <div class="input-area">
      <label for="file-input" class="dropzone" id="dropzone">
        <span id="dropzone-text">Drop files here or click to upload</span>
        <input id="file-input" type="file" accept="audio/*,video/*" multiple>
      </label>
      <button class="upload-btn" id="upload-btn">Upload</button>
    </div>
    <div id="preview" class="media-preview" style="display:none"></div>
    <div id="link-output" class="link-output" style="display:none"></div>
    <div class="features">
      <span class="pulse">‚ö°</span> Super-fast file uploading & direct sharing<br>
      <span class="pulse">üé¨</span> Videos & Audios with instant playback<br>
      <span class="pulse">üîó</span> Discord & embed compatible links<br>
      <span class="pulse">üåÄ</span> Minimal, beautiful, animated UI<br>
      <span class="pulse">üõ°Ô∏è</span> <b>Note:</b> Hosting on github.io has some browser-imposed file limits.<br>
    </div>
  </div>
  <script>
    // Helper to animate dropzone
    const dropzone = document.getElementById('dropzone');
    const fileInput = document.getElementById('file-input');
    const preview = document.getElementById('preview');
    const linkOutput = document.getElementById('link-output');
    const dropzoneText = document.getElementById('dropzone-text');
    const uploadBtn = document.getElementById('upload-btn');
    let selectedFiles = [];

    dropzone.addEventListener('click', () => fileInput.click());
    dropzone.addEventListener('dragover', (e) => {
      e.preventDefault(); dropzone.classList.add('dragover');
      dropzoneText.textContent = "Drop to upload instantly";
    });
    dropzone.addEventListener('dragleave', (e) => {
      dropzone.classList.remove('dragover');
      dropzoneText.textContent = "Drop files here or click to upload";
    });
    dropzone.addEventListener('drop', (e) => {
      e.preventDefault();
      dropzone.classList.remove('dragover');
      handleFiles(e.dataTransfer.files);
    });
    fileInput.addEventListener('change', (e) => {
      handleFiles(e.target.files);
    });

    function handleFiles(fileList) {
      selectedFiles = Array.from(fileList);
      showMediaPreview(selectedFiles[0]);
    }

    function showMediaPreview(file) {
      preview.innerHTML = "";
      if (!file) { preview.style.display = 'none'; return; }

      let url = URL.createObjectURL(file);
      let el;
      if (file.type.startsWith("video")) {
        el = document.createElement("video");
        el.controls = true;
        el.src = url;
      } else if (file.type.startsWith("audio")) {
        el = document.createElement("audio");
        el.controls = true;
        el.src = url;
      } else {
        el = document.createElement("div");
        el.textContent = "Unsupported file.";
      }
      preview.appendChild(el);
      preview.style.display = '';
    }

    // Attempt to upload to Github user repo via GitHub API
    // Since github.io only serves static files, we'll use filebase64 and provide a copy-link for the user
    // NOTE: Real uploads need a backend or GitHub token. Here, we use a workaround for the demo.
    uploadBtn.addEventListener('click', async function(){
      if (!selectedFiles.length) {
        linkOutput.innerHTML = "Choose a file!";
        linkOutput.style.display = '';
        return;
      }
      // Simulate upload progress
      linkOutput.innerHTML = `<span style="color:#24d280">Uploading...</span>`;
      linkOutput.style.display = '';
      let file = selectedFiles[0];
      try {
        // Simulate an "instant" file hosting using base64
        let base64 = await fileToBase64(file);
        // Since github.io can't write files from browser, we provide a "Data URL" trick as demo
        // You can copy this url and embed/share
        let mediaTag = '';
        if (file.type.startsWith('video')) {
          mediaTag = `<video src="${base64}" controls style="max-width:100%"></video>`;
        } else if (file.type.startsWith('audio')) {
          mediaTag = `<audio src="${base64}" controls style="max-width:100%"></audio>`;
        }

        let demoURL = `${location.origin}/#media:${encodeURIComponent(base64.substring(0,50))}`;
        // Embeddable/discord-suited "magic"
        let htmlLink = `
          <b>Embed this media anywhere:</b><br>
          (Right-click below, Copy Link)<br>
          <a href="${base64}" target="_blank" rel="noopener">${file.name}</a><br>
          <details><summary>Embed snippet</summary>
            <code style="word-break:break-all;background:#152;">${mediaTag.replace(/</g,'&lt;')}</code>
          </details>
        `;
        linkOutput.innerHTML = htmlLink;
        preview.innerHTML = mediaTag;
        preview.style.display = '';
        // Try to update og:video so link embeds on Discord
        updateOG(base64, file.type);
      } catch (ex) {
        linkOutput.innerHTML = "<span style='color:#d21'>Failed: " + ex.message + "</span>";
      }
    });

    function fileToBase64(file){
      return new Promise((res,rej)=>{
        const reader = new FileReader();
        reader.onload = ()=>res(reader.result);
        reader.onerror = rej;
        reader.readAsDataURL(file);
      });
    }

    // Live updates OG meta for embed previews (works on e.g. Discord if loaded via a valid file host URL)
    function updateOG(src, type){
      let isVideo = type.startsWith('video');
      let ogTags = {
        "og:video": isVideo?src:null,
        "og:audio": !isVideo?src:null,
        "twitter:player": src,
        "og:type": isVideo ? "video.other":"music.song"
      };
      for (const [k,v] of Object.entries(ogTags)){
        let el = document.querySelector(`meta[property='${k}'],meta[name='${k}']`);
        if (!el) continue;
        el.setAttribute('content', v || "");
      }
    }
  </script>
</body>
</html>
